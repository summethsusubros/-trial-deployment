<html lang="en">
    <%- include("../partials/header.ejs") %>
    
    <body class="is-light" style="margin-left: 10%; margin-right: 10%;"> 
        <style>

            .card-container{
                display: flex; 
                justify-content: space-around;  
                flex-wrap: wrap;
                align-items: center;
            }
            .card-index{
                height: 250px; 
                width:250px; 
                padding:10px 10px 10px 20px;
                margin: 10px;
                
                box-shadow: 0px 0px 20px 2px lightgrey;
            }

            .card-index:hover{  
                border-color: #f80000;
            }
    
            .card-request-ownership{
                height:500px; 
                width:350px; 
                padding:10px;
                margin: 10px;
                
                box-shadow: 0px 0px 20px 2px lightgrey;
            }

            .tab-container{
                min-height: 700px;
                border: solid; 
                border-color: rgb(200, 200, 200); 
                border-width: 1px; 
                margin-top: 50px;
                border-radius: 4px;
            }

            .scroll-container{
                display: grid;
                grid-auto-flow: column;
                overflow: scroll;
                
                padding:10px;
                border:solid;
                border-color: rgb(200, 200, 200);
                border-radius: 6px; 
                margin:10px;
                
                justify-content: left;
            }

            .scroll-element{
                padding: 14px 40px;
                border-radius: 6px; 
                margin: 0px 10px;
                background-color: #f80000; /*linear-gradient(9deg, #f80000 , blue);*/
                text-align: center;
                display: inline-block;
                color: white;
                white-space: nowrap;
            }

            .scroll-element:hover{
                background: linear-gradient(9deg, blue , red);
            }

            .dropbox-container{
                border: solid; 
                border-radius: 10px;
                padding: 20px 20px;
                display: flex; 
                justify-content: flex-start;  
                flex-wrap: wrap;
                gap: 20px; 
                align-items: center;
            }

            .border-text{
                margin-left: 22px; 
                background-color: white; 
                width:140px; 
                text-align: center; 
                color: #f80000;
                position:absolute; 
                top:-13px;
                z-index: 1;
            }
        </style>
    <%- include("../partials/nav.ejs") %>
    
    <div class="block tab-container">

        <section class="hero is-danger" style="background-color:#f80000; color:white; border-radius: 4px;">
            <nav class="tabs tabs is-toggle is-fullwidth is-normal">
                <div class="container">
                    <ul>
                        <li class="tab"><a href="/configure/">Index</a></li>
                        <li class="tab" ><a href="/configure/ownership">Ownership</a></li>
                        <li class="tab" ><a href="/configure/product">Product Version</a></li>
                        <li class="tab is-active" ><a href="/configure/define">Define Relationship</a></li>
                        <li class="tab" ><a href="/configure/account">Account Settings</a></li>
                        </ul>
                </div>
            </nav> 
        </section>
 
        <div class="container section" style="padding: 30px;">

            <div id="defineRelationship" class="content-tab">
                <form method="POST">
                    <div style="position: relative;">
                        <p class="border-text">Add a new version</p>
                        <div class="dropbox-container">
                            <div >
                                <div class=" is-normal" style="display:inline-block;  text-align: right; margin-right: 10px; padding-top: 7px;">
                                    Product:
                                </div>
                                <div class="select is-normal" style="display:inline-block;">
                                    <select id="product" name="product" onchange="clickButton()">
                                        <option disabled hidden selected value="default"> Select Product </option>
                                        <% for(var i = 0; i < owned.length; i++) { %>
                                            <option><%= owned[i]%></option>
                                        <% } %>
                                    </select>
                                </div>
                            </div>   

                            <div >
                                <div class=" is-normal" style="display:inline-block;  text-align: right; margin-right: 10px;  padding-top: 7px;">
                                    Tools Version:
                                </div>
                                <div class="select is-normal" style="display:inline-block;">
                                    <select id="toolsVersion" name="toolsVersion" onchange="clickButton()">
                                        <option disabled hidden selected value="default"> Select Tools Version </option>
                                        <% for(var i = 0; i < tools.length; i++) { %>
                                            <option><%= tools[i].toolsVersion %></option>
                                        <% } %>
                                    </select>
                                </div>
                            </div>   

                            <div >
                                <button id="confirmSelectionButton" class="button" type="submit" formaction="/configure/define/redirect" style="background-color: #f80000; color: white; display: none;">Confirm Selection</button>
                            </div>  
                        
                        </div>
                    </div>
                </form>     
            </div>

        </div>
            
                
    </div> 


    <%- include("../partials/footer.ejs") %>
    </body>
    <script>
        function clickButton(){
            if(document.getElementById('product').value != "default" && document.getElementById('toolsVersion').value != "default")
                document.getElementById('confirmSelectionButton').click();
        }
    </script>
</html>